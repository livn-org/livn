import os

from livn.types import Model


class PinskyRinzel(Model):
    def neuron_template_directory(self):
        return os.path.join(os.path.dirname(__file__), "neuron", "templates")

    def neuron_mechanisms_directory(self):
        return os.path.join(os.path.dirname(__file__), "neuron", "mechanisms")

    def neuron_celltypes(self, celltypes):
        pass  # use defaults

    def neuron_synapse_mechanisms(self):
        return {
            "AMPA": "LinExp2Syn",
            "NMDA": "LinExp2SynNMDA",
            "GABA_A": "LinExp2Syn",
            "GABA_B": "LinExp2Syn",
        }

    def neuron_synapse_rules(self):
        return {
            "Exp2Syn": {
                "mech_file": "exp2syn.mod",
                "mech_params": ["tau1", "tau2", "e"],
                "netcon_params": {"weight": 0},
                "netcon_state": {},
            },
            "LinExp2Syn": {
                "mech_file": "lin_exp2syn.mod",
                "mech_params": ["tau_rise", "tau_decay", "e"],
                "netcon_params": {"weight": 0, "g_unit": 1},
                "netcon_state": {},
            },
            "LinExp2SynNMDA": {
                "mech_file": "lin_exp2synNMDA.mod",
                "mech_params": [
                    "tau_rise",
                    "tau_decay",
                    "e",
                    "mg",
                    "Kd",
                    "gamma",
                    "vshift",
                ],
                "netcon_params": {"weight": 0, "g_unit": 1},
                "netcon_state": {},
            },
            "SatExp2Syn": {
                "mech_file": "sat_exp2syn.mod",
                "mech_params": ["sat", "dur_onset", "tau_offset", "e"],
                "netcon_params": {"weight": 0, "g_unit": 1},
                "netcon_state": {"onset": 2, "count": 3, "g0": 4, "t0": 5},
            },
        }

    def neuron_microcircuit_inputs(self):
        return True

    def neuron_default_weights(self, system: str):
        return {
            "CA1": {
                "AAC.BS.apical.GABA_A.weight": 3.3372535705566406,
                "AAC.CA2.('apical', 'basal').AMPA.weight": 11.80176067352295,
                "AAC.CA2.('apical', 'basal').NMDA.weight": 12.054014205932617,
                "AAC.CA3.('apical', 'basal').AMPA.weight": 13.70767593383789,
                "AAC.CA3.('apical', 'basal').NMDA.weight": 9.447394371032715,
                "AAC.CCKBC.('apical', 'soma').GABA_A.weight": 11.605563163757324,
                "AAC.EC.apical.AMPA.weight": 11.185140609741211,
                "AAC.EC.apical.NMDA.weight": 14.044013977050781,
                "AAC.IVY.apical.GABA_A.weight": 17.883872985839844,
                "AAC.NGFC.apical.GABA_A.weight": 9.223169326782227,
                "AAC.NGFC.apical.GABA_B.weight": 7.065000057220459,
                "AAC.OLM.apical.GABA_A.weight": 0.6185211539268494,
                "AAC.PVBC.('apical', 'basal', 'soma').GABA_A.weight": 14.100069999694824,
                "AAC.PYR.('basal', 'soma').AMPA.weight": 2.075985908508301,
                "AAC.PYR.('basal', 'soma').NMDA.weight": 14.072042465209961,
                "AAC.SCA.apical.GABA_A.weight": 1.2071126699447632,
                "BS.BS.apical.GABA_A.weight": 17.211196899414062,
                "BS.CA2.('apical', 'basal').AMPA.weight": 12.810774803161621,
                "BS.CA3.('apical', 'basal').AMPA.weight": 13.39936637878418,
                "BS.CCKBC.('soma', 'apical').GABA_A.weight": 0.11401408165693283,
                "BS.EC.apical.AMPA.weight": 12.44640827178955,
                "BS.IS1.basal.GABA_A.weight": 18.500492095947266,
                "BS.IS3.basal.GABA_A.weight": 8.102042198181152,
                "BS.IVY.apical.GABA_A.weight": 8.858802795410156,
                "BS.NGFC.apical.GABA_A.weight": 0.366267591714859,
                "BS.NGFC.apical.GABA_B.weight": 4.23415470123291,
                "BS.OLM.apical.GABA_A.weight": 15.809788703918457,
                "BS.PVBC.('soma', 'basal').GABA_A.weight": 7.233169078826904,
                "BS.PYR.('soma', 'basal').AMPA.weight": 13.091055870056152,
                "BS.SCA.apical.GABA_A.weight": 1.8237323760986328,
                "CCKBC.BS.apical.GABA_A.weight": 1.594577431678772,
                "CCKBC.CA2.('apical', 'basal').AMPA.weight": 5.795985698699951,
                "CCKBC.CA3.('apical', 'basal', 'soma').AMPA.weight": 1.8499295711517334,
                "CCKBC.CCKBC.('soma', 'apical', 'basal').GABA_A.weight": 0.2511971890926361,
                "CCKBC.EC.apical.AMPA.weight": 7.580774784088135,
                "CCKBC.IS1.('apical', 'basal').GABA_A.weight": 1.2573943138122559,
                "CCKBC.IS2.apical.GABA_A.weight": 0.6231690049171448,
                "CCKBC.IS3.basal.GABA_A.weight": 0.3796478807926178,
                "CCKBC.IVY.apical.GABA_A.weight": 0.6017605662345886,
                "CCKBC.NGFC.apical.GABA_A.weight": 1.591901421546936,
                "CCKBC.NGFC.apical.GABA_B.weight": 0.6927464604377747,
                "CCKBC.OLM.apical.GABA_A.weight": 0.2485211193561554,
                "CCKBC.PVBC.('soma', 'basal').GABA_A.weight": 0.2190845012664795,
                "CCKBC.PYR.basal.AMPA.weight": 2.3937323093414307,
                "CCKBC.SCA.apical.GABA_A.weight": 0.14147886633872986,
                "IS1.BS.apical.GABA_A.weight": 16.062042236328125,
                "IS1.CA2.('apical', 'basal').AMPA.weight": 12.614577293395996,
                "IS1.CA3.('apical', 'basal').AMPA.weight": 13.287253379821777,
                "IS1.IS1.basal.GABA_A.weight": 2.9168310165405273,
                "IS1.IS2.apical.GABA_A.weight": 9.419365882873535,
                "IS1.IVY.('apical', 'basal').GABA_A.weight": 17.491477966308594,
                "IS1.PVBC.soma.GABA_A.weight": 11.689647674560547,
                "IS1.PYR.('soma', 'basal').AMPA.weight": 17.743732452392578,
                "IS1.PYR.('soma', 'basal').NMDA.weight": 6.924859046936035,
                "IS1.SCA.('apical', 'basal').GABA_A.weight": 16.818801879882812,
                "IS2.CA3.('soma', 'apical', 'basal').AMPA.weight": 6.688380241394043,
                "IS2.EC.apical.AMPA.weight": 5.26612663269043,
                "IS2.IS1.('soma', 'apical').GABA_A.weight": 1.8220422267913818,
                "IS2.NGFC.('soma', 'apical', 'basal').GABA_A.weight": 9.755986213684082,
                "IS2.SCA.basal.GABA_A.weight": 0.6507746577262878,
                "IS3.BS.('apical', 'basal').GABA_A.weight": 6.855704307556152,
                "IS3.CA2.('soma', 'apical', 'basal').AMPA.weight": 4.76415491104126,
                "IS3.CA3.('soma', 'apical', 'basal').AMPA.weight": 4.736267566680908,
                "IS3.EC.apical.AMPA.weight": 3.132746458053589,
                "IS3.IS1.apical.GABA_A.weight": 7.73415470123291,
                "IS3.IS2.apical.GABA_A.weight": 7.274013996124268,
                "IS3.IVY.('apical', 'basal').GABA_A.weight": 2.881760597229004,
                "IS3.NGFC.apical.GABA_A.weight": 4.178521156311035,
                "IS3.PVBC.soma.GABA_A.weight": 1.8359858989715576,
                "IS3.PYR.basal.AMPA.weight": 1.2782394886016846,
                "IS3.SCA.apical.GABA_A.weight": 6.507112503051758,
                "IVY.BS.('apical', 'basal').GABA_A.weight": 5.579506874084473,
                "IVY.CA2.('apical', 'basal').AMPA.weight": 3.1130282878875732,
                "IVY.CA2.('apical', 'basal').NMDA.weight": 12.250211715698242,
                "IVY.CA3.('soma', 'apical', 'basal').AMPA.weight": 6.420351982116699,
                "IVY.CA3.('soma', 'apical', 'basal').NMDA.weight": 1.963873267173767,
                "IVY.CCKBC.('soma', 'apical', 'basal').GABA_A.weight": 4.178098678588867,
                "IVY.IS1.('apical', 'basal').GABA_A.weight": 16.93091583251953,
                "IVY.IS2.apical.GABA_A.weight": 18.304296493530273,
                "IVY.IVY.('apical', 'basal').GABA_A.weight": 12.390352249145508,
                "IVY.NGFC.('apical', 'basal').GABA_A.weight": 7.821760654449463,
                "IVY.NGFC.('apical', 'basal').GABA_B.weight": 14.352323532104492,
                "IVY.PVBC.soma.GABA_A.weight": 12.13809871673584,
                "IVY.PYR.('apical', 'basal').AMPA.weight": 19.39739418029785,
                "IVY.PYR.('apical', 'basal').NMDA.weight": 9.27922534942627,
                "IVY.SCA.('apical', 'basal').GABA_A.weight": 2.804718255996704,
                "NGFC.BS.basal.GABA_A.weight": 1.5714788436889648,
                "NGFC.CA3.basal.AMPA.weight": 18.500492095947266,
                "NGFC.CA3.basal.NMDA.weight": 18.612606048583984,
                "NGFC.EC.('apical', 'basal').AMPA.weight": 8.494436264038086,
                "NGFC.EC.('apical', 'basal').NMDA.weight": 8.970915794372559,
                "NGFC.IVY.basal.GABA_A.weight": 17.351337432861328,
                "NGFC.NGFC.apical.GABA_A.weight": 13.987957954406738,
                "NGFC.NGFC.apical.GABA_B.weight": 17.827816009521484,
                "NGFC.OLM.apical.GABA_A.weight": 10.624577522277832,
                "NGFC.SCA.basal.GABA_A.weight": 12.726690292358398,
                "OLM.IS3.basal.GABA_A.weight": 14.60457706451416,
                "OLM.OLM.basal.GABA_A.weight": 8.298239707946777,
                "OLM.PYR.('soma', 'basal').AMPA.weight": 9.58753490447998,
                "PVBC.BS.apical.GABA_A.weight": 13.539506912231445,
                "PVBC.CA2.('apical', 'basal').AMPA.weight": 1.5714788436889648,
                "PVBC.CA2.('apical', 'basal').NMDA.weight": 5.074999809265137,
                "PVBC.CA3.('apical', 'basal').AMPA.weight": 10.988944053649902,
                "PVBC.CA3.('apical', 'basal').NMDA.weight": 2.804718255996704,
                "PVBC.CCKBC.('apical', 'soma').GABA_A.weight": 19.48147964477539,
                "PVBC.EC.apical.AMPA.weight": 3.5895071029663086,
                "PVBC.EC.apical.NMDA.weight": 4.514436721801758,
                "PVBC.IVY.apical.GABA_A.weight": 4.962887287139893,
                "PVBC.NGFC.apical.GABA_A.weight": 2.8607747554779053,
                "PVBC.NGFC.apical.GABA_B.weight": 18.584577560424805,
                "PVBC.OLM.apical.GABA_A.weight": 4.374295711517334,
                "PVBC.PVBC.('apical', 'basal', 'soma').GABA_A.weight": 16.95894432067871,
                "PVBC.PYR.('basal', 'soma').AMPA.weight": 2.0479576587677,
                "PVBC.PYR.('basal', 'soma').NMDA.weight": 14.800774574279785,
                "PVBC.SCA.apical.GABA_A.weight": 6.700634002685547,
                "PYR.AAC.ais.GABA_A.weight": 2.6586620807647705,
                "PYR.BS.('apical', 'basal').GABA_A.weight": 4.108802795410156,
                "PYR.CA2.basal.AMPA.weight": 7.441338062286377,
                "PYR.CA3.('apical', 'basal').AMPA.weight": 9.254014015197754,
                "PYR.CCKBC.('apical', 'basal', 'soma').GABA_A.weight": 5.4055633544921875,
                "PYR.EC.('apical', 'basal').AMPA.weight": 3.8996479511260986,
                "PYR.IVY.('apical', 'basal').GABA_A.weight": 9.909366607666016,
                "PYR.NGFC.apical.GABA_A.weight": 0.45556336641311646,
                "PYR.NGFC.apical.GABA_B.weight": 8.277957916259766,
                "PYR.OLM.('apical', 'basal').GABA_A.weight": 4.457394599914551,
                "PYR.PVBC.('apical', 'basal', 'soma').GABA_A.weight": 2.1427464485168457,
                "PYR.PYR.('soma', 'basal').AMPA.weight": 4.833873271942139,
                "PYR.SCA.('apical', 'basal').GABA_A.weight": 4.959366321563721,
                "SCA.BS.apical.GABA_A.weight": 6.479225158691406,
                "SCA.CA2.('apical', 'basal').AMPA.weight": 9.058802604675293,
                "SCA.CA3.('apical', 'basal', 'soma').AMPA.weight": 4.2203521728515625,
                "SCA.CCKBC.('soma', 'basal').GABA_A.weight": 4.736267566680908,
                "SCA.EC.('apical', 'basal', 'soma').AMPA.weight": 9.46316909790039,
                "SCA.IS1.('basal', 'apical').GABA_A.weight": 6.744154930114746,
                "SCA.IS2.apical.GABA_A.weight": 5.433450698852539,
                "SCA.IVY.apical.GABA_A.weight": 0.6368309855461121,
                "SCA.NGFC.apical.GABA_A.weight": 8.4313383102417,
                "SCA.NGFC.apical.GABA_B.weight": 4.49922513961792,
                "SCA.OLM.apical.GABA_A.weight": 2.99330997467041,
                "SCA.PVBC.('basal', 'soma').GABA_A.weight": 6.4652814865112305,
                "SCA.PYR.basal.AMPA.weight": 9.686267852783203,
                "SCA.SCA.apical.GABA_A.weight": 6.674436569213867,
            },
        }[system]
